# Development

## Haskell(GHC) environment

Since Ganeti 3.0.0, the upstream release is built/tested against GHC 8.0 through 8.8 which means it should work on most current and near-future distribution versions. Support for GHC versions < 8 has already been dropped with the previous Ganeti release.

The GHC versions provided by the EPEL repositories for el7 and el8 are as follows:

- el7: 7.6.3-x.y.el7
- el8: 8.2.2-x.y.el8

GHC for el7 will not build Ganeti 3.0.0 or later. In addition, we have been built and provided RPM packges for many GHC libraries required to build Ganeti, but their version dependencies are complex and very difficult to build.

For those reasons, starting with Ganeti 3.0.0 RPM package, we decided to build using [the GHC's official Binary Packages](https://www.haskell.org/ghc/download.html).

## Current GHC version to use for build

- Version 8.6.5
- ghc-8.6.5-x86_64-centos7-linux.tar.xz

### Other notice

GHC version for Ubuntu 20.04 LTS:

- Ubuntu 20.04.01 LTS + initial: GHC 8.6.5
- Ubuntu 20.04.01 LTS + apt upgrade: GHC 8.8.1

Error: GHC version 8.8.4 + el7:

```
+ cabal install cryptonite -f -use_target_attributes
cabal: Error: Could not find module: AutoConf with any suffix:
["gc","chs","hsc","x","y","ly","cpphs","hs","lhs","hsig","lhsig"]. If the
module is autogenerated it should be added to 'autogen-modules'.
```
